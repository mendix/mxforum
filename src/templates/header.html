{% load extra_tags %}

<script>
	function buildmenu(data) {
		var whichMenu = data.navigation[0].whichmenu;
		// if there are already links, that means the function has already run
		var theLinks = $("#" + whichMenu + " li a").length;
		
		if (theLinks == 0) {
			// create top navigation link
			var topLink = $("<a></a>");
			if (data.navigation[0].subnav.length > 0) {
				topLink.html(data.navigation[0].title).attr("href", data.navigation[0].link).addClass("topLevelLink expandableNav").appendTo($("#" + whichMenu + " li"));
			} else {
				topLink.html(data.navigation[0].title).attr("href", data.navigation[0].link).addClass("topLevelLink").appendTo($("#" + whichMenu + " li"));
			}
			
			// create navigation menu
			if (data.navigation[0].subnav.length > 0) {
				var navMenuList = $("<ul></ul>").addClass("navMenu");
				for ( var i=0; i < data.navigation[0].subnav.length; i++ ) {
					var theListItem = $(navMenuList).append('<li><a href="'+ data.navigation[0].subnav[i].link + '">' + '<span class="' + data.navigation[0].subnav[i].icon + '"></span>' + data.navigation[0].subnav[i].title + '</a></li>');
			    }
				navMenuList.insertAfter($("#" + whichMenu + " li a.topLevelLink"));
			}
		}
	}
	jQuery(document).ready(function ($) {
	
		$("#btnMobileMenu").click(function () {
			toggleMobileNav();
			return false;
		});
		
		$(".expandableNav").click(function () {
			// this media query matches what we use in the responsive CSS
			var isMobile = window.matchMedia("only screen and (max-width: 870px)");
		    if (isMobile.matches) {
		        expandMobileMenu(this);
				return false;
		    }
		});
	});
	
	function toggleMobileNav() {
		$(".headerWrapper").toggleClass("activateMobile");
	}
	
	function expandMobileMenu(theLink) {
		theSubMenu = theLink.parentNode.parentNode;
		$(theSubMenu).toggleClass("activateMobileSubMenu");
	}
</script>

  <div class="MxClient_topPane">
  
	<div class="headerWrapper">
		<div class="row">
			<div class="large-4 medium-5 small-6 column"><a href="{{ mxdevsite_url }}/" rel="home" id="devLogo">Mendix Developers</a></div>
			<div class="large-8 medium-7 small-6 column" id="menuColumn">
				<div class="mobileIcons">
					<a href="#" id="btnMobileMenu"><span class="icon-menu"></span><span class="icon-x"></span><em>menu</em></a>
				</div>
				<div id="navTable">
					<div id="navRow">
						<div class="navCell">
							<ul id="docsMenu">
								<li>
									
								</li>
							</ul>
							<script src="{{ mxdevsite_url }}/wp-content/themes/mendix/nav-docs-api.php?callback=buildmenu"></script>
						</div>
						<div class="navCell">
							<ul id="trainingMenu">
								<li>
									
								</li>
							</ul>
							<script src="{{ mxdevsite_url }}/wp-content/themes/mendix/nav-training.php?callback=buildmenu"></script>
						</div>
						<div class="navCell">
							<ul id="communityMenu">
								<li>
									
								</li>
							</ul>
							<script src="{{ mxdevsite_url }}/wp-content/themes/mendix/nav-community.php?callback=buildmenu"></script>
						</div>
						<div class="navCell">
							<ul id="supportMenu">
								<li>
								
								</li>
							</ul>
							<script src="{{ mxdevsite_url }}/wp-content/themes/mendix/nav-support.php?callback=buildmenu"></script>
						</div>
						<div class="navCell" id="startCell"><a href="{{ mxdevsite_url }}/start-for-free/" class="button">Start For Free</a></div>
						<div class="navCell" id="theLogin"><div id="mxid_topbar_attachpoint"></div></div>
					</div>	
				</div>
			</div>
		</div>
	</div>

	 
  <div id="navigation-menu">
    <div class="nav">
      <ul>
        <li class="" id="nav_home"><a href="/">Home</a></li>
        <li class="" id="nav_questions"><a href="/questions/">Questions</a></li>
        <li class="" id="nav_users"><a href="/users/">Users</a></li>
        <li class="" id="nav_faq"><a href="/faq/">FAQ</a></li>
        <li class="" id="nav_ask"><a href="/questions/ask/">Ask a question</a></li>
      </ul>
    </div>

    <form id="cse-search-box" action="/search/">
      <input type="hidden" name="cx" value="008041280038911820596:be3ercf_tlo" />
      <input type="hidden" name="ie" value="UTF-8" />
      <label for="q" class="assistive-text">Search</label>
      <input type="text" class="field" name="q" id="q" placeholder="Search" />
      <input type="submit" class="submit" name="sa" id="searchsubmit" value="Search" />
    </form>
    
    <div id="header-links">
      {% if request.user.is_authenticated %}
        <a href="{{myprofile_url}}/link/profileforum/{{ request.user.openid|urlencode }}">{{ request.user.real_name }}</a> {% get_score_badge request.user %} 
      {% endif %}
    </div>

    <div class="nav-rss">
      <a title="RSS Feed Mendix Forum" href="/feeds/rss/">RSS Feed</a>
    </div>
  </div>
</div>

